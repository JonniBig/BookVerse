import{a as E}from"./mobileMenuBurger-6226215d.js";(()=>{const e={openModalBtn:document.querySelector("#openModalLink"),closeModalBtn:document.querySelector(".modalWindow-btn"),modalWindow:document.querySelector(".modalWindow")};e.openModalBtn.addEventListener("click",o),e.closeModalBtn.addEventListener("click",o);function o(){e.modalWindow.classList.toggle("is-hidden")}})();async function f(e){if(e.toLowerCase()==="all categories"){window.location.href="index.html";return}const c=`https://books-backend.p.goit.global/books/category?category=${e}`;try{const a=(await E.get(c)).data,t=document.getElementById("result-container");t.innerHTML="";const n=e.split(" ");if(n.length>1){const s=n.pop();n.push(`<span style="color: #4F2EE8;">${s}</span>`)}const w=n.join(" "),p=document.createElement("h2");if(p.classList.add("title_books"),p.innerHTML=w,t.appendChild(p),a.length===0){const s=document.createElement("p");s.classList.add("categoryesNotFound"),s.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",t.appendChild(s)}else{const s=document.createElement("ul");s.className="bestseller",a.forEach(l=>{const d=document.createElement("li");d.className="book-item",d.id=`book-${l._id}`;const r=document.createElement("a");r.href="/book-details.html?id="+l._id;const L=document.createElement("div"),m=document.createElement("img");m.classList.add("book-wrap"),m.src=l.book_image||"../images/plug picture/plug335x485@1x.jpg",m.alt=l.title,L.appendChild(m);const u=document.createElement("div");u.classList.add("noName");const g=document.createElement("p");g.classList.add("book-name"),g.textContent=l.title||"N/A";const h=document.createElement("p");h.classList.add("book-author"),h.textContent=l.author||"N/A",u.appendChild(g),u.appendChild(h),r.appendChild(L),r.appendChild(u),d.appendChild(r),s.appendChild(d)}),t.appendChild(s)}}catch(i){console.error("Error fetching books:",i)}}f();const b="https://books-backend.p.goit.global/",y=document.querySelector(".categories");async function v(){try{const{data:e}=await E.get(`${b}books/category-list`),o={list_name:"All categories"};e.unshift(o),B(e);const c=e[0].categoryLink;c&&c.classList.add("active-category")}catch(e){console.error("Помилка при отриманні категорій:",e)}}async function B(e){y.innerHTML="";const o=document.createElement("ul");o.classList.add("book_list"),e.forEach(c=>{const{list_name:i}=c,a=document.createElement("li");a.classList.add("category_item");const t=document.createElement("a");t.textContent=i,t.addEventListener("click",async()=>{await f(i),e.forEach(n=>{n.categoryLink.classList.remove("active-category")}),t.classList.add("active-category")}),t.classList.add("category_link"),["focus","blur","mouseover","mouseout"].forEach(n=>{t.addEventListener(n,()=>{n==="focus"||n==="mouseover"?t.classList.add("uppercase"):t.classList.remove("uppercase")})}),c.categoryLink=t,a.appendChild(t),o.appendChild(a)}),y.appendChild(o)}v();const C=document.querySelector(".go-top");window.addEventListener("scroll",M);C.addEventListener("click",k);function M(){const e=document.documentElement.scrollTop,o=document.documentElement.clientHeight;C.classList.toggle("show",e>o)}function k(){document.documentElement.scrollTop>0&&(window.scrollBy(0,-40),requestAnimationFrame(k))}
