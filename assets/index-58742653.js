import{a as h}from"./mobileMenuBurger-f1986b02.js";async function y(t){if(t.toLowerCase()==="all categories"){window.location.href="index.html";return}const s=`https://books-backend.p.goit.global/books/category?category=${t}`;try{const n=(await h.get(s)).data,e=document.getElementById("result-container");e.innerHTML="";const o=t.split(" ");if(o.length>1){const a=o.pop();o.push(`<span style="color: #4F2EE8;">${a}</span>`)}const C=o.join(" "),p=document.createElement("h2");if(p.innerHTML=C,e.appendChild(p),n.length===0){const a=document.createElement("p");a.classList.add("categoryesNotFound"),a.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",e.appendChild(a)}else{const a=document.createElement("ul");a.className="categoryes-book-list",n.forEach(d=>{const l=document.createElement("li");l.className="book-item";const r=document.createElement("img");r.classList.add("categoryes-book-img"),r.height=316,r.width=218,r.src=d.book_image||"default-image.jpg",r.alt=d.title||"N/A";const g=document.createElement("p");g.classList.add("categoryes-title-book"),g.textContent=d.title||"N/A";const m=document.createElement("p");m.classList.add("categoryes-author-book"),m.textContent=d.author||"N/A",l.appendChild(r),l.appendChild(g),l.appendChild(m),a.appendChild(l)}),e.appendChild(a)}}catch(i){console.error("Error fetching books:",i)}}y();const L="https://books-backend.p.goit.global/",u=document.querySelector(".categories");async function f(){try{const{data:t}=await h.get(`${L}books/category-list`),c={list_name:"All categories"};t.unshift(c),k(t);const s=t[0].categoryLink;s&&s.classList.add("active-category")}catch(t){console.error("Помилка при отриманні категорій:",t)}}async function k(t){u.innerHTML="";const c=document.createElement("ul");c.classList.add("book_list"),t.forEach(s=>{const{list_name:i}=s,n=document.createElement("li");n.classList.add("category_item");const e=document.createElement("a");e.textContent=i,e.addEventListener("click",async()=>{await y(i),t.forEach(o=>{o.categoryLink.classList.remove("active-category")}),e.classList.add("active-category")}),e.classList.add("category_link"),["focus","blur","mouseover","mouseout"].forEach(o=>{e.addEventListener(o,()=>{o==="focus"||o==="mouseover"?e.classList.add("uppercase"):e.classList.remove("uppercase")})}),s.categoryLink=e,n.appendChild(e),c.appendChild(n)}),u.appendChild(c)}f();
