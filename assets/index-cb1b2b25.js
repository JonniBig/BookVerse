import{a as h}from"./mobileMenuBurger-d4641c88.js";async function y(t){if(t.toLowerCase()==="all categories"){window.location.href="index.html";return}const a=`https://books-backend.p.goit.global/books/category?category=${t}`;try{const c=(await h.get(a)).data,e=document.getElementById("result-container");e.innerHTML="";const o=t.split(" ");if(o.length>1){const s=o.pop();o.push(`<span style="color: #4F2EE8;">${s}</span>`)}const L=o.join(" "),p=document.createElement("h2");if(p.classList.add("title_books"),p.innerHTML=L,e.appendChild(p),c.length===0){const s=document.createElement("p");s.classList.add("categoryesNotFound"),s.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",e.appendChild(s)}else{const s=document.createElement("ul");s.className="bestseller",c.forEach(l=>{const i=document.createElement("li");i.className="book-item";const d=document.createElement("img");d.classList.add("book-wrap"),d.src=l.book_image||"../images/plug picture/plug335x485@1x.jpg",d.alt=l.title;const m=document.createElement("p");m.classList.add("book-name"),m.textContent=l.title||"N/A";const g=document.createElement("p");g.classList.add("book-author"),g.textContent=l.author||"N/A",i.appendChild(d),i.appendChild(m),i.appendChild(g),s.appendChild(i)}),e.appendChild(s)}}catch(r){console.error("Error fetching books:",r)}}y();const C="https://books-backend.p.goit.global/",u=document.querySelector(".categories");async function f(){try{const{data:t}=await h.get(`${C}books/category-list`),n={list_name:"All categories"};t.unshift(n),k(t);const a=t[0].categoryLink;a&&a.classList.add("active-category")}catch(t){console.error("Помилка при отриманні категорій:",t)}}async function k(t){u.innerHTML="";const n=document.createElement("ul");n.classList.add("book_list"),t.forEach(a=>{const{list_name:r}=a,c=document.createElement("li");c.classList.add("category_item");const e=document.createElement("a");e.textContent=r,e.addEventListener("click",async()=>{await y(r),t.forEach(o=>{o.categoryLink.classList.remove("active-category")}),e.classList.add("active-category")}),e.classList.add("category_link"),["focus","blur","mouseover","mouseout"].forEach(o=>{e.addEventListener(o,()=>{o==="focus"||o==="mouseover"?e.classList.add("uppercase"):e.classList.remove("uppercase")})}),a.categoryLink=e,c.appendChild(e),n.appendChild(c)}),u.appendChild(n)}f();
