import{a as h}from"./mobileMenuBurger-ee858e88.js";async function y(a){const t=`https://books-backend.p.goit.global/books/category?category=${a}`;try{const o=(await h.get(t)).data,e=document.getElementById("result-container");e.innerHTML="";const c=a.split(" ");if(c.length>1){const s=c.pop();c.push(`<span style="color: #4F2EE8;">${s}</span>`)}const d=c.join(" "),m=document.createElement("h2");if(m.innerHTML=d,e.appendChild(m),o.length===0){const s=document.createElement("p");s.classList.add("categoryesNotFound"),s.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",e.appendChild(s)}else{const s=document.createElement("ul");s.className="categoryes-book-list",o.forEach(l=>{const i=document.createElement("li");i.className="book-item";const r=document.createElement("img");r.classList.add("categoryes-book-img"),r.height=316,r.width=218,r.src=l.book_image||"default-image.jpg",r.alt=l.title||"N/A";const p=document.createElement("p");p.classList.add("categoryes-title-book"),p.textContent=l.title||"N/A";const g=document.createElement("p");g.classList.add("categoryes-author-book"),g.textContent=l.author||"N/A",i.appendChild(r),i.appendChild(p),i.appendChild(g),s.appendChild(i)}),e.appendChild(s)}}catch(n){console.error("Error fetching books:",n)}}y();const L="https://books-backend.p.goit.global/",u=document.querySelector(".categories");async function E(){try{const t=(await h.get(`${L}books/category-list`)).data,n={list_name:"All categories"};t.unshift(n),k(t);const o=t[0].categoryLink;o&&o.classList.add("active-category")}catch(a){console.error("Помилка при отриманні категорій:",a)}}async function k(a){u.innerHTML="";const t=document.createElement("ul");t.classList.add("book_list"),a.forEach(n=>{const o=document.createElement("li");o.classList.add("category_item");const e=document.createElement("a");e.textContent=n.list_name,e.addEventListener("click",async()=>{const c=n.list_name;await fetchBooksForCategory(c),a.forEach(d=>{d.categoryLink.classList.remove("active-category")}),e.classList.add("active-category")}),e.classList.add("category_link"),e.addEventListener("focus",()=>{e.classList.add("uppercase")}),e.addEventListener("blur",()=>{e.classList.remove("uppercase")}),e.addEventListener("mouseover",()=>{e.classList.add("uppercase")}),e.addEventListener("mouseout",()=>{e.classList.remove("uppercase")}),n.categoryLink=e,o.appendChild(e),t.appendChild(o)}),u.appendChild(t)}E();
