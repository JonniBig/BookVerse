import{a as y}from"./mobileMenuBurger-e5ae27c2.js";async function C(e){if(e.toLowerCase()==="all categories"){window.location.href="index.html";return}const c=`https://books-backend.p.goit.global/books/category?category=${e}`;try{const a=(await y.get(c)).data,t=document.getElementById("result-container");t.innerHTML="";const o=e.split(" ");if(o.length>1){const n=o.pop();o.push(`<span style="color: #4F2EE8;">${n}</span>`)}const b=o.join(" "),u=document.createElement("h2");if(u.classList.add("title_books"),u.innerHTML=b,t.appendChild(u),a.length===0){const n=document.createElement("p");n.classList.add("categoryesNotFound"),n.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",t.appendChild(n)}else{const n=document.createElement("ul");n.className="bestseller",a.forEach(i=>{const l=document.createElement("li");l.className="book-item",l.id=`book-${i._id}`;const d=document.createElement("a");d.href="/book-details.html?id="+i._id;const L=document.createElement("div"),m=document.createElement("img");m.classList.add("book-wrap"),m.src=i.book_image||"../images/plug picture/plug335x485@1x.jpg",m.alt=i.title,L.appendChild(m);const p=document.createElement("div");p.classList.add("noName");const g=document.createElement("p");g.classList.add("book-name"),g.textContent=i.title||"N/A";const h=document.createElement("p");h.classList.add("book-author"),h.textContent=i.author||"N/A",p.appendChild(g),p.appendChild(h),d.appendChild(L),d.appendChild(p),l.appendChild(d),n.appendChild(l)}),t.appendChild(n)}}catch(r){console.error("Error fetching books:",r)}}C();const w="https://books-backend.p.goit.global/",E=document.querySelector(".categories");async function v(){try{const{data:e}=await y.get(`${w}books/category-list`),s={list_name:"All categories"};e.unshift(s),_(e);const c=e[0].categoryLink;c&&c.classList.add("active-category")}catch(e){console.error("Помилка при отриманні категорій:",e)}}async function _(e){E.innerHTML="";const s=document.createElement("ul");s.classList.add("book_list"),e.forEach(c=>{const{list_name:r}=c,a=document.createElement("li");a.classList.add("category_item");const t=document.createElement("a");t.textContent=r,t.addEventListener("click",async()=>{await C(r),e.forEach(o=>{o.categoryLink.classList.remove("active-category")}),t.classList.add("active-category")}),t.classList.add("category_link"),["focus","blur","mouseover","mouseout"].forEach(o=>{t.addEventListener(o,()=>{o==="focus"||o==="mouseover"?t.classList.add("uppercase"):t.classList.remove("uppercase")})}),c.categoryLink=t,a.appendChild(t),s.appendChild(a)}),E.appendChild(s)}v();const f=document.querySelector(".go-top");window.addEventListener("scroll",x);f.addEventListener("click",k);function x(){const e=document.documentElement.scrollTop,s=document.documentElement.clientHeight;f.classList.toggle("show",e>s)}function k(){document.documentElement.scrollTop>0&&(window.scrollBy(0,-40),requestAnimationFrame(k))}
