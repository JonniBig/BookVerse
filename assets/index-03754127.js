import{a as h}from"./mobileMenuBurger-422f482b.js";async function L(e){if(e.toLowerCase()==="all categories"){window.location.href="index.html";return}const c=`https://books-backend.p.goit.global/books/category?category=${e}`;try{const a=(await h.get(c)).data,t=document.getElementById("result-container");t.innerHTML="";const o=e.split(" ");if(o.length>1){const s=o.pop();o.push(`<span style="color: #4F2EE8;">${s}</span>`)}const f=o.join(" "),m=document.createElement("h2");if(m.classList.add("title_books"),m.innerHTML=f,t.appendChild(m),a.length===0){const s=document.createElement("p");s.classList.add("categoryesNotFound"),s.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",t.appendChild(s)}else{const s=document.createElement("ul");s.className="bestseller",a.forEach(i=>{const l=document.createElement("li");l.className="book-item";const d=document.createElement("img");d.classList.add("book-wrap"),d.src=i.book_image||"../images/plug picture/plug335x485@1x.jpg",d.alt=i.title;const u=document.createElement("p");u.classList.add("book-name"),u.textContent=i.title||"N/A";const p=document.createElement("p");p.classList.add("book-author"),p.textContent=i.author||"N/A",l.appendChild(d),l.appendChild(u),l.appendChild(p),s.appendChild(l)}),t.appendChild(s)}}catch(r){console.error("Error fetching books:",r)}}L();const C="https://books-backend.p.goit.global/",g=document.querySelector(".categories");async function k(){try{const{data:e}=await h.get(`${C}books/category-list`),n={list_name:"All categories"};e.unshift(n),b(e);const c=e[0].categoryLink;c&&c.classList.add("active-category")}catch(e){console.error("Помилка при отриманні категорій:",e)}}async function b(e){g.innerHTML="";const n=document.createElement("ul");n.classList.add("book_list"),e.forEach(c=>{const{list_name:r}=c,a=document.createElement("li");a.classList.add("category_item");const t=document.createElement("a");t.textContent=r,t.addEventListener("click",async()=>{await L(r),e.forEach(o=>{o.categoryLink.classList.remove("active-category")}),t.classList.add("active-category")}),t.classList.add("category_link"),["focus","blur","mouseover","mouseout"].forEach(o=>{t.addEventListener(o,()=>{o==="focus"||o==="mouseover"?t.classList.add("uppercase"):t.classList.remove("uppercase")})}),c.categoryLink=t,a.appendChild(t),n.appendChild(a)}),g.appendChild(n)}k();const y=document.querySelector(".go-top");window.addEventListener("scroll",w);y.addEventListener("click",E);function w(){const e=document.documentElement.scrollTop,n=document.documentElement.clientHeight;y.classList.toggle("show",e>n)}function E(){document.documentElement.scrollTop>0&&(window.scrollBy(0,-40),requestAnimationFrame(E))}
