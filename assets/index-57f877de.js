import{a as m}from"./mobileMenuBurger-3e4825a4.js";const k=document.querySelector(".bestseller"),L="https://books-backend.p.goit.global/books/top-books";async function y(){const t=`${L}`;return(await m.get(t)).data}y();async function b(t){try{(await y(t)).map(o=>f(o))}catch{console.error("Try again!")}}b();function f(t){const{list_name:s,book_image:o,author:a,title:e}=t,c=`
  <div class="best_list">
    <h2 class="best_list_name">${s}</h2>
    <div class="best_list_item">
      <a class="best_list_link" href="${o}">
         <img src="${o}" alt="${e}" width="300" loading="lazy" />
      </a>
      <p class="best_list_title">${e}</p>
      <p class="best_list_author">${a}</p>
    </div>
  </div>`;k.insertAdjacentHTML("beforeend",c)}async function E(t){const s=`https://books-backend.p.goit.global/books/category?category=${t}`;try{const a=(await m.get(s)).data,e=document.getElementById("result-container");e.innerHTML="";const c=t.split(" ");if(c.length>1){const n=c.pop();c.push(`<span style="color: #4F2EE8;">${n}</span>`)}const d=c.join(" "),u=document.createElement("h2");if(u.innerHTML=d,e.appendChild(u),a.length===0){const n=document.createElement("p");n.classList.add("categoryesNotFound"),n.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",e.appendChild(n)}else{const n=document.createElement("ul");n.className="categoryes-book-list",a.forEach(l=>{const i=document.createElement("li");i.className="book-item";const r=document.createElement("img");r.classList.add("categoryes-book-img"),r.height=316,r.width=218,r.src=l.book_image||"default-image.jpg",r.alt=l.title||"N/A";const p=document.createElement("p");p.classList.add("categoryes-title-book"),p.textContent=l.title||"N/A";const g=document.createElement("p");g.classList.add("categoryes-author-book"),g.textContent=l.author||"N/A",i.appendChild(r),i.appendChild(p),i.appendChild(g),n.appendChild(i)}),e.appendChild(n)}}catch(o){console.error("Error fetching books:",o)}}E();const C="https://books-backend.p.goit.global/",h=document.querySelector(".categories");async function _(){try{const s=(await m.get(`${C}books/category-list`)).data,o={list_name:"All categories"};s.unshift(o),v(s);const a=s[0].categoryLink;a&&a.classList.add("active-category")}catch(t){console.error("Помилка при отриманні категорій:",t)}}async function v(t){h.innerHTML="";const s=document.createElement("ul");s.classList.add("book_list"),t.forEach(o=>{const a=document.createElement("li");a.classList.add("category_item");const e=document.createElement("a");e.textContent=o.list_name,e.addEventListener("click",async()=>{const c=o.list_name;await fetchBooksForCategory(c),t.forEach(d=>{d.categoryLink.classList.remove("active-category")}),e.classList.add("active-category")}),e.classList.add("category_link"),e.addEventListener("focus",()=>{e.classList.add("uppercase")}),e.addEventListener("blur",()=>{e.classList.remove("uppercase")}),e.addEventListener("mouseover",()=>{e.classList.add("uppercase")}),e.addEventListener("mouseout",()=>{e.classList.remove("uppercase")}),o.categoryLink=e,a.appendChild(e),s.appendChild(a)}),h.appendChild(s)}_();
