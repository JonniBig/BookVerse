import{a as h}from"./mobileMenuBurger-ee858e88.js";async function y(t){const c=`https://books-backend.p.goit.global/books/category?category=${t}`;try{const i=(await h.get(c)).data,s=document.getElementById("result-container");s.innerHTML="";const e=t.split(" ");if(e.length>1){const o=e.pop();e.push(`<span style="color: #4F2EE8;">${o}</span>`)}const n=e.join(" "),p=document.createElement("h2");if(p.innerHTML=n,s.appendChild(p),i.length===0){const o=document.createElement("p");o.classList.add("categoryesNotFound"),o.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",s.appendChild(o)}else{const o=document.createElement("ul");o.className="categoryes-book-list",i.forEach(d=>{const l=document.createElement("li");l.className="book-item";const r=document.createElement("img");r.classList.add("categoryes-book-img"),r.height=316,r.width=218,r.src=d.book_image||"default-image.jpg",r.alt=d.title||"N/A";const g=document.createElement("p");g.classList.add("categoryes-title-book"),g.textContent=d.title||"N/A";const m=document.createElement("p");m.classList.add("categoryes-author-book"),m.textContent=d.author||"N/A",l.appendChild(r),l.appendChild(g),l.appendChild(m),o.appendChild(l)}),s.appendChild(o)}}catch(a){console.error("Error fetching books:",a)}}y();const L="https://books-backend.p.goit.global/",u=document.querySelector(".categories");async function f(){try{const{data:t}=await h.get(`${L}books/category-list`),c={list_name:"All categories"};t.unshift(c),k(t);const a=t[0].categoryLink;a&&a.classList.add("active-category")}catch(t){console.error("Помилка при отриманні категорій:",t)}}async function k(t){u.innerHTML="";const c=document.createElement("ul");c.classList.add("book_list"),t.forEach(a=>{const{list_name:i}=a,s=document.createElement("li");s.classList.add("category_item");const e=document.createElement("a");e.textContent=i,e.addEventListener("click",async()=>{await y(i),t.forEach(n=>{n.categoryLink.classList.remove("active-category")}),e.classList.add("active-category")}),e.classList.add("category_link"),["focus","blur","mouseover","mouseout"].forEach(n=>{e.addEventListener(n,()=>{n==="focus"||n==="mouseover"?e.classList.add("uppercase"):e.classList.remove("uppercase")})}),a.categoryLink=e,s.appendChild(e),c.appendChild(s)}),u.appendChild(c)}f();
