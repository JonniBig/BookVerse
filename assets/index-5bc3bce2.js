import{a as f}from"./mobileMenuBurger-a7b3ed96.js";async function L(e){if(e.toLowerCase()==="all categories"){window.location.href="index.html";return}const n=`https://books-backend.p.goit.global/books/category?category=${e}`;try{const c=(await f.get(n)).data,t=document.getElementById("result-container");t.innerHTML="";const o=e.split(" ");if(o.length>1){const s=o.pop();o.push(`<span style="color: #4F2EE8;">${s}</span>`)}const C=o.join(" "),p=document.createElement("h2");if(p.classList.add("title_books"),p.innerHTML=C,t.appendChild(p),c.length===0){const s=document.createElement("p");s.classList.add("categoryesNotFound"),s.textContent="Вибраної категорії не існує. Виберіть іншу категорію.",t.appendChild(s)}else{const s=document.createElement("ul");s.className="bestseller",c.forEach(l=>{const i=document.createElement("li");i.className="book-item";const d=document.createElement("img");d.classList.add("book-wrap"),d.src=l.book_image||"../images/plug picture/plug335x485@1x.jpg",d.alt=l.title;const g=document.createElement("p");g.classList.add("book-name"),g.textContent=l.title||"N/A";const m=document.createElement("p");m.classList.add("book-author"),m.textContent=l.author||"N/A",i.appendChild(d),i.appendChild(g),i.appendChild(m),s.appendChild(i)}),t.appendChild(s)}}catch(r){console.error("Error fetching books:",r)}}L();const E="https://books-backend.p.goit.global/",h=document.querySelector(".categories");async function k(){try{const{data:e}=await f.get(`${E}books/category-list`),a={list_name:"All categories"};e.unshift(a),w(e);const n=e[0].categoryLink;n&&n.classList.add("active-category")}catch(e){console.error("Помилка при отриманні категорій:",e)}}async function w(e){h.innerHTML="";const a=document.createElement("ul");a.classList.add("book_list"),e.forEach(n=>{const{list_name:r}=n,c=document.createElement("li");c.classList.add("category_item");const t=document.createElement("a");t.textContent=r,t.addEventListener("click",async()=>{await L(r),e.forEach(o=>{o.categoryLink.classList.remove("active-category")}),t.classList.add("active-category")}),t.classList.add("category_link"),["focus","blur","mouseover","mouseout"].forEach(o=>{t.addEventListener(o,()=>{o==="focus"||o==="mouseover"?t.classList.add("uppercase"):t.classList.remove("uppercase")})}),n.categoryLink=t,c.appendChild(t),a.appendChild(c)}),h.appendChild(a)}k();const u=document.querySelector(".go-top");window.addEventListener("scroll",b);u.addEventListener("click",y);function b(){const e=window.pageYOffset,a=document.documentElement.clientHeight;e>a?u.classList.add("go-top--show"):u.classList.remove("go-top--show")}function y(){window.pageYOffset>0&&(window.scrollBy(0,-25),setTimeout(y,0))}
